@use "vars" as *;


.b_ear {
    position: relative;
    display: block;
    width: 100%;

    &:hover {
        .b_ear-title {
            color: var(--new-red);
        }
        .b_ear-image img {
            // transform: scale(1.07, 1.07);
        }
    }

    &-image {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 12px;
        overflow: hidden;
        background: var(--bg-color-light);

        img {
            position: relative;
            z-index: 2;
            display: block;
            width: 100%;
            transform: scale(1, 1);
            transition: transform 2s ease;
        }

        &.m_fit_image {

            img {
                width: auto;
                height: 100%;
            }
            .base_layer {
                position: absolute;
                top: 0;
                left: -20px;
                right: -20px;
                bottom: 0;
                z-index: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                // background: #333;

                img {
                    height: auto;
                    z-index: 1;
                    max-height: 180%;
                    width: 100%;
                    filter: blur(10px);
                    opacity: 0.75;
                }
            }
        }
    }
    &-textblock {
        position: relative;
        display: inline-flex;
        flex-flow: column;
        align-items: start;
        margin-bottom: $gap;
    }
    &-title {
        position: relative;
        font: 400 1.8rem/1.25 $textSans;
        color: var(--color-main);
        transition: $transitionColor;
    }
    &-time {
        font: 400 1.1rem/1.25 $textSerif;
        color: var(--color-gray);
    }

    &.m_feature {
        .b_ear {
            &-title {
                font: 700 2.4rem/1.35 $textSerif;
            }
            &-time {
                font: 400 1.1rem/1.25 $textSerif;
                color: var(--color-gray);
            }
        }
    }
    &.m_middle {
        .b_ear {
            &-title {
                font: 700 1.8rem/1.35 $textSerif;
            }
            &-time {
                display: none;
            }
        }
    }
    &.m_cmn {
        .b_ear {
            &-title {
                font: 700 1.6rem/1.35 $textSerif;
            }
        }
    }
    &.m_fullfield {
        position: relative;
        width: 100%;
        height: 100%;
        background: $black;
        border-radius: $gap3;
        overflow: hidden;

        .b_ear {
            &-image {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 70%;
                display: flex;
                align-items: start;
                justify-content: center;
                background: none;

                &:after {
                    content: '';
                    position: absolute;
                    z-index: 10;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    height: 40%;
                    background-image: linear-gradient(to bottom, transparent 0%, $black 100%);
                }

                img {
                    width: auto;
                    // max-width: 200%;
                    height: 100%;
                    opacity: .7;
                }
            }

            &-textblock {
                position: absolute;
                z-index: 10;
                bottom: 0;
                left: 0;
                right: 0;
                margin-bottom: 0;
                padding: $gap2;
                background-image: linear-gradient(to bottom, transparent 0%, $black 50%);
            }

            &-title {
                font: 700 1.8rem/1.35 $textSerif;
                color: #fff;
                margin-bottom: 0;
            }
        }

        &.m_photo {
            .b_ear-image {
                border-radius: 24px 24px 0 0;
                &:after {
                    content: '';
                    position: absolute;
                    z-index: 10;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    height: 40%;
                    background-image: linear-gradient(to bottom, transparent 0%, $black 100%);
                }
            }

            .b_ear-title {
                margin: 0;

                &:after {
                    content: '';
                    display: block;
                    float: right;
                    width: 24px;
                    height: 24px;
                    margin: 4px 0 0 4px;
                    background: url(../img/ui/photo_wh.svg) no-repeat 50%;
                    background-size: 100%;
                }
            }
        }
    }

    &.m_list {
        position: relative;
        display: flex;
        align-items: start;
        justify-content: start;
        padding-left: $gap3;
        margin-bottom: $gap2;

        &:before {
            content: '';
            position: absolute;
            left: 6px;
            top: 10px;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background: var(--color-main);
        }

        .b_ear {
            &-image {
                display: flex;
                align-items: center;
                justify-content: center;
                float: right;
                margin: 0 0 $gap $gap;
                width: 48px;
                height: 48px;
                flex-shrink: 0;
                img {
                    height: 100%;
                    width: auto;
                }
            }
            &-title {
                font: 400 1.8rem/1.25 $textSans;
            }
            &-time {
                font: 400 1.1rem/1.25 $textSerif;
                color: var(--color-gray);
            }
        }

        &.m_exclusive {
            .b_ear-title {
                position: relative;

                &:after {
                    content: '';
                    position: relative;
                    top: 2px;
                    display: inline-flex;
                    width: 16px;
                    height: 16px;
                    border-radius: 50%;
                    background-color: var(--new-red);
                    background-image: var(--icon-g-rus-wh);
                    background-size: 100%;
                    background-position: 50%;

                }
            }
        }

        &.m_live {
            &:before {
                background: var(--new-red);
            }
            @keyframes pulse {
                0% {
                    width: 4px;
                    height: 4px;
                    opacity: 0;
                }
                10% {
                    width: 8px;
                    height: 8px;
                    opacity: 1;
                }
                100% {
                    width: 16px;
                    height: 16px;
                    opacity: 0;
                }
            }

            .pulse_dot {
                position: absolute;
                z-index: 1;
                top: 4px;
                left: 0px;
                width: 16px;
                height: 16px;
                display: flex;
                align-items: center;
                justify-content: center;

                span {
                    position: absolute;
                    width: 4px;
                    height: 4px;
                    border-radius: 50%;
                    opacity: 0;
                    border: 1px solid var(--new-red);
                    animation-name: pulse;
                    animation-duration: 2s;
                    animation-iteration-count: infinite;
                    animation-direction: normal;
                    animation-timing-function: ease-in;
                    animation-delay: 0s;

                    &:nth-child(2){
                        animation-delay: 1s;
                    }
                }
            }

            .b_ear-title {
                &:after {
                    content: '';
                    display: inline-block;
                    top: 0;
                    width: 35px;
                    height: 16px;
                    background: url(../img/ui/live.svg) no-repeat 50%;
                    background-size: auto 100%;
                    vertical-align: middle;
                    border-radius: 0%;
                }
            }
        }
    }

    &.m_column {
        .b_ear {
            &-title {
                font: 700 1.4rem/1.5 $textSerif;
                font-style: italic;
            }
            &-author {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: $gap;

                .avatar {
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    width: 24px;
                    height: 24px;
                    border-radius: 50%;
                    overflow: hidden;
                    background: $black;

                    img {
                        display: block;
                        width: 100%;
                    }
                }
                .name {
                    font: 400 1.2rem/1.35 $textSans;
                    color: var(--color-main);
                }
            }
        }
    }

    &.m_photo {
        .b_ear {

            &-image {
                position: relative;
                overflow: hidden;
                border-radius: 24px;

                &:after  {
                    content: '';
                    position: absolute;
                    z-index: 10;
                    right: $gap2;
                    bottom: $gap2;
                    width: 24px;
                    height: 24px;
                    background: url(../img/ui/photo_wh.svg) no-repeat 50%;
                }
            }

        }
    }
}


// fix
.w_col_4 {
    .b_ear {
        &.m_fullfield {
            // max-height: 255px;
        }
    }
}

.w_col_list {
    .b_ear {
        &.m_list {
            margin-bottom: $gap2;
            &:before {
                display: none;
            }
            padding-left: 0;

            &.m_live {
                padding-left: 0;
                &:before {
                    display: block;
                    left: -16px;
                }
                .pulse_dot {
                    left: -22px;
                }
            }
        }
    }
}